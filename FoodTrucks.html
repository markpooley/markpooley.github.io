<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Iowa City Food Trucks</title>
    <link rel="stylesheet" href="stylesheets/app.css"/>
    <link rel="stylesheet" href="stylesheets/custom.css"/>
    <script src="bower_components/modernizr/modernizr.js"></script>

    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
  </head>
  <body>
    <nav class="top-bar" data-topbar>
      <ul class="title-area">
        <li class="name"></li>
        <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
      </ul>
      <section class="top-bar-section">
        <ul class="right">
          <li><a href="index.html">Home</a></li>
          <li class="has-dropdown"><a href="#">Projects</a>
            <ul class="dropdown">
              <li class="active"><a href="FoodTrucks.html">Iowa City Food Trucks</a></li>
              <li><a href="DentalServiceAreas.html">Dental Service Areas</a></li>
            </ul>
          </li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </section>
    </nav>

  	<div class="row toppadding">
  		<div class="large-12 columns text-center">
  			<h2>Iowa City Food Truck Eligible Operation Areas</h2>
  			<p class="panel">Iowa City's recent passing of an expanded food truck ordinance is welcome news to most, but
  			where can food trucks legally operate, and what areas have the highest job density?</p>
  		</div>

  	</div>
  	<div class="row" data-equalizer>
	   	<div class="large-2 columns panel" data-equalizer-watch>

	   		<h5 class="text-center">Legend</h5>
        <div class="large-12 columns bottomspace" style="background-color: rgba(78,78,78, 0.85);">
          <div class="text-center LegText has tip" data-tooltip aria-haspopup="true" style="color: rgb(255,255,255)" title="Areas in residential neighborhoods, within the downtown district, or within 150 feet of restaurant.">Prohibited Operation Areas</div>
        </div>
        <h6 class="text-center toppadding">Employment Density (Jobs/SqMi)</h6>
        <div class="large-12 columns " style="background-color: rgba(40,146,199,0.70);">
          <div class="text-center" style="color: rgb(72,72,72)"> less than 20 </div>
        </div>
        <div class="large-12 columns " style="background-color: rgba(160,194,155,0.70);">
          <div class="text-center" style="color: rgb(72,72,72)"> 21 - 50</div>
        </div>
        <div class="large-12 columns " style="background-color: rgba(250,250,100,0.70);">
          <div class="text-center" style="color: rgb(72,72,72)">51-150 </div>
        </div>
        <div class="large-12 columns " style="background-color: rgba(250,141,52,0.70);">
          <div class="text-center" style="color: rgb(72,72,72)">151 - 500</div>
        </div>
        <div class="large-12 columns bottomspace" style="background-color: rgba(232,16,20,0.70);">
          <div class="text-center" style="color: rgb(72,72,72)">500+</div>
        </div>
         <h5 class="text-center"><a href="#process">Learn more</a></h5>
       	</div>
	   	<div class="large-10 columns" id="map" data-equalizer-watch></div>
   </div>

   <div class="row">
    <div class="large-12 columns text-center" id="process"><h3>Here's how it was done</h3>
    </div>
    <div class="large-12 columns">
      <ul class="tabs" data-tab role="tablist">
       <li class="tab-title active" role="presentational"><a href="#Data1" role="tab" tabindex="0" aria-selected="true" controls="Data1">Obtaining the Data</a></li>
       <li class="tab-title" role="presentational"><a href="#Data2" role="tab" tabindex="0" aria-selected="true" controls="Data2">Processing the Data</a></li>
       <li class="tab-title" role="presentational"><a href="#Data3" role="tab" tabindex="0" aria-selected="true" controls="Data3">Spatial Analysis of Data</a></li>
      </ul>
      <div class="tabs-content">
        <section role="tabpanel" aria-hidden="false" class="content active" id="Data1">
          <h3> Finding data to get the proces started</h3><hr>
          <p>Iowa City is slated to expand food truck operations through a new city ordinance that will
          hopefully be adopted (<a href="http://www.dailyiowan.com/2015/03/30/Metro/41524.html">story</a>).But, the question is where can food trucks operate safely given these new guidlines? </p>
          <p>First, a directory/list of restaurants in Iowa City was needed (<a href="http://www.iowacitymenus.com/">Found here</a>),since foodtrucks are prohibited from operating within 150 feet of a restaurant. This list doesn't include KFC, McDonalds, or similar type estblishments.</p>
          <p>City boundary files were also needed to geofence the analysis to Iowa City (University Heights was included as well). A Statewide of shapefile of incorporated cities can be found <a href="https://programs.iowadnr.gov/nrgislibx/">here</a>. Using a simple query, Iowa City and University heights can be pulled out of the data.</p>
          <p><a href="Images/OnTheMap.png"><img src="Images/OnTheMapTh.png" class="th left"></a>Finally, employment data can help inform where food trucks can optimally locate over the lunch hours. Nicely formatted data can be pulled within a geofenced area using <a href="http://onthemap.ces.census.gov/">OnTheMap</a></p>
        </section>
        <section role="tabpanel" aria-hidden="true" class="content" id="Data2">
          <h3>Editing and pulling relevant data</h3><hr>
          <p>Addresses are needed for the geocoding of these locations, which can be obtained using     python and the <a href="https://pypi.python.org/pypi/beautifulsoup4/4.3.2">Beautifulsoup</a> package to parse the html and write relevant information to a csv.</p>
          <p><pre><code>code will go here</code></pre></p>
          <p>With a csv of addresses (only a few of which required manual cleaning) I could use the Google Geocoding API nicely housed within <a href="https://github.com/DenisCarriere/geocoder">Denis Carriere's geocoder module</a> to obtain long/lat coordinates of each location.</p>
          <p><pre><code>more code examples will go here</code></pre></p>
        </section>
        <section role="tabpanel1" aria-hidden="true" class="content" id="Data3">
          <h3>Spatial analysis of the data</h3><hr>
          <p><a href="http://www.ESRI.com">ESRI ArcMap</a> was utilized to do the heavy lifting for analyzing the spatial data. The majority of the hang up was the fact that Iowa City lacks an overlay of zoning layers. Invidiual parcels are available with a zoning classificaiton, but this was less than ideal (for reaons that will become apparent shortly)</p>
        </section>

      </div>

    </div>
   </div>

  <footer class="row">
	<div class="large-12 columns text-center">
	  <p>Iowa City • IA</p>
	  <p><a href="mailto:mawwwk@gmail.com">mawwwk@gmail.com</a> •
	    <a href="http://markpooley.github.io/">www.markpooley.github.io</a></p>
	</div>
	</footer>
    <script src="bower_components/foundation/js/foundation/foundation.magellan.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/foundation/js/foundation.min.js"></script>
    <script src="js/app.js"></script>
    <script src="D3\src_code\d3.min.js"></script>
  	<script src="http://d3js.org/queue.v1.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
  	<script src="D3\FoodTrucks.js"></script>
    <script>
      $(document).foundation();
    </script>
  </body>
</html>